<!-- views/layout.ejs -->
<!-- This is the MAIN layout template used on every page. Each page's content gets inserted into body below. -->

<!doctype html>
<html lang="en" data-bs-theme="dark">
  <head>
    <!-- Required meta tags for proper rendering on mobile -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Title shown in browser tab -->
    <title>PotLuck</title>

    <!-- Bootstrap CSS (for layout + components) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons CDN -->
    <!-- Used for navbar icons (home, browse, profile, etc) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Our custom stylesheet -->
    <link href="/public/css/styles.css" rel="stylesheet">
  </head>

  <body>

    <!-- ===================================
        TOP BAR with app title
        Stays at the top while scrolling
        =================================== -->
    <header class="topbar shadow-sm">
      <div class="container text-center">
        <strong class="app-title">PotLuck</strong>
      </div>
    </header>

    <!-- ===================================
         MAIN PAGE CONTENT AREA
         Different for each page
         body injects EJS from index/browse/etc.
       =================================== -->
    <main class="container px-3 main-with-topbar">
      <%- body %> <!-- The actual page content is inserted here -->
    </main>

    <!-- ===================================
         FLOATING BOTTOM NAVBAR
         Visible on every page
         Highlights current page with class "active"
       =================================== -->
    <nav class="craft-stick-nav">
      
      <!-- Sliding indicator dot (animated in JS) -->
      <div class="nav-indicator"></div>

      <!-- Home tab -->
      <!-- active property is passed from server (server.js) -->
      <a class="nav-item <%= active==='home' ? 'active' : '' %>" data-index="0" href="/">
        <i class="bi bi-house-fill"></i>
        <span>Home</span>
      </a>

      <!-- Browse recipes tab -->
      <a class="nav-item <%= active==='browse' ? 'active' : '' %>" data-index="1" href="/browse">
        <i class="bi bi-compass"></i>
        <span>Browse</span>
      </a>

      <!-- Create a recipe tab (future feature) -->
      <a class="nav-item <%= active==='create' ? 'active' : '' %>" data-index="2" href="/create">
        <i class="bi bi-plus-circle"></i>
        <span>Create</span>
      </a>

      <!-- View single recipe page -->
      <a class="nav-item <%= active==='recipe' ? 'active' : '' %>" data-index="3" href="/recipe">
        <i class="bi bi-book"></i>
        <span>Recipe</span>
      </a>

      <!-- Profile tab (future feature) -->
      <a class="nav-item <%= active==='profile' ? 'active' : '' %>" data-index="4" href="/profile">
        <i class="bi bi-person"></i>
        <span>Profile</span>
      </a>

    </nav>

    <!-- Bootstrap JavaScript (dropdowns, mobile behavior, etc) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Our custom JavaScript (animations + nav indicator movement) -->
    <script src="/public/js/app.js"></script>

  </body>
</html>
